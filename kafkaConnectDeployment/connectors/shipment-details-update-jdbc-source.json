{
  "name": "shipment-details-update-jdbc-source",
  "config": {
    "id": 13,
    "versionDevelopment": 13,
    "versionStaging": 1,
    "versionProduction": 1,
    "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
    "tasks.max": 1,
    "connection.url": "jdbc:oracle:thin:<DB_USERNAME>/<DB_PASSWORD>@//<DB_HOST_IP>:1521/<DB_SERVICE_NAME>",
    "schema.pattern": "E_SHIPMENT_DETAILS",
    "timestamp.column.name": "MODIFIED_DATE",
    "table.poll.interval.ms": 3600000,
    "mode": "timestamp",
    "query": "SELECT * FROM (SELECT esd.SHIPMENT_ID, esd.SITE_ID, esd.LINE, esd.BUSINESS_UNIT_ID, esd.STATUS, es.WFE_TRANS_ID AS ORDER_NUMBER, esd.TRACKING_NUMBER, esd.CARRIER_ID, esd.QTY_SHIPPED, esod.EXT_REF_ID, COALESCE(esd.MODIFIED_DATE, esd.CREATED_DATE) AS MODIFIED_DATE, esd.CREATED_DATE, COALESCE(es.MODIFIED_DATE, es.CREATED_DATE) AS SHIPMENT_MODIFIED_DATE, es.CREATED_DATE AS SHIPMENT_CREATED_DATE, s.PKSKU AS SKU, esd.BAR_CODE_ID, es.DEST_SITE_ID, es.SERVICE_TYPE, CATALOG.DESC_ENG, CATALOG.DESC_FR, eso.LANGUAGE_NO, esd.SHIPPED_DATE, eso.CREATED_DATE AS ORDER_CREATED_DATE, es.FROM_STORE_NAME, es.FROM_ADDRESS_1, es.FROM_ADDRESS_2, es.FROM_CITY, es.FROM_STATE_ID, es.FROM_ZIP_CODE, es.FILL_SITE_ID, es.FROM_COUNTRY_ID, es.FROM_HOME_PHONE, ec.EMAIL_ADDRESS, es.FIRST_NAME, es.LAST_NAME, es.ADDRESS_1, es.ADDRESS_2, es.CITY, es.STATE_ID, es.ZIP_CODE, es.COUNTRY_ID, es.HOME_PHONE, es.STATUS AS SHIPMENT_STATUS FROM EDOM.E_SHIPMENT_DETAILS esd INNER JOIN EDOM.E_SHIPMENTS es ON esd.SHIPMENT_ID = es.SHIPMENT_ID INNER JOIN EDOM.E_SALES_ORDER_DETAILS esod ON esod.SALES_ORDER_ID = es.SALES_ORDER_ID AND esod.LINE = esd.SALES_ORDER_LINE_ID INNER JOIN EDOM.E_SALES_ORDERS eso ON eso.SALES_ORDER_ID = esod.SALES_ORDER_ID INNER JOIN EDOM.E_CUSTOMERS ec ON eso.CUSTOMER_ID = ec.CUSTOMER_ID INNER JOIN ELCAT.CATALOG ON esod.STYLE_ID = SUBSTR(CATALOG.STYLEID, 1, 8) INNER JOIN ELCAT.STYLE_COLOURS sc ON sc.STYLEID = CATALOG.STYLEID AND sc.COLOUR_ID = esod.COLOR_ID INNER JOIN VSTORE.SKUXREF sx ON sx.PKPRODUCTNO = esd.BAR_CODE_ID INNER JOIN VSTORE.SKU s ON sx.FKSKU = s.PKSKU WHERE eso.SITE_ID = '00990' AND esod.EXT_REF_ID IS NOT NULL)",
    "topic.prefix": "shipment-details-connect-jdbc",
    "validate.non.null": "false",
    "numeric.mapping": "best_fit",
    "poll.interval.ms": 60000, 
    "offset.flush.timeout.ms": 3600000
  }
}
